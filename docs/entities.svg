<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="3956.25px" preserveAspectRatio="none" style="width:8287px;height:3956px;background:#FFFFFF;" version="1.1" viewBox="0 0 8287 3956" width="8287.5px" zoomAndPan="magnify"><title>&#1057;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1080;</title><defs/><g><g class="title" data-source-line="2"><text fill="#000000" font-family="sans-serif" font-size="87.5" font-weight="bold" lengthAdjust="spacing" textLength="437.2864" x="3881.3568" y="144.574">&#1057;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1080;</text></g><!--cluster Task entity--><g class="cluster" data-entity="Task entity" data-source-line="15" data-uid="ent0003" id="cluster_Task entity"><rect fill="none" height="2653.125" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:6.25;" width="3350" x="2693.75" y="1213.1165"/><path d="M3213.3606,1213.1165 L3213.3606,1269.9829 L3150.8606,1332.4829 L2693.75,1332.4829" fill="none" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" font-weight="bold" lengthAdjust="spacing" textLength="457.1106" x="2712.5" y="1301.4404">Task entity</text></g><!--cluster TaskDialogEvent entity--><g class="cluster" data-entity="TaskDialogEvent entity" data-source-line="57" data-uid="ent0015" id="cluster_TaskDialogEvent entity"><rect fill="none" height="2553.125" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:6.25;" width="2500" x="43.75" y="1366.2415"/><path d="M1069.0063,1366.2415 L1069.0063,1423.1079 L1006.5063,1485.6079 L43.75,1485.6079" fill="none" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" font-weight="bold" lengthAdjust="spacing" textLength="962.7563" x="62.5" y="1454.5654">TaskDialogEvent entity</text></g><!--cluster UserStateEvent entity--><g class="cluster" data-entity="UserStateEvent entity" data-source-line="87" data-uid="ent0025" id="cluster_UserStateEvent entity"><rect fill="none" height="2450" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:6.25;" width="2056.25" x="6193.75" y="1416.2415"/><path d="M7160.73,1416.2415 L7160.73,1473.1079 L7098.23,1535.6079 L6193.75,1535.6079" fill="none" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" font-weight="bold" lengthAdjust="spacing" textLength="904.48" x="6212.5" y="1504.5654">UserStateEvent entity</text></g><!--class TaskStatus--><g class="entity" data-entity="TaskStatus" data-source-line="16" data-uid="ent0004" id="entity_TaskStatus"><rect fill="#F1F1F1" height="652.4658" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:3.125;" width="637.6709" x="2793.75" y="3066.2415"/><ellipse cx="2887.5" cy="3166.2415" fill="#EB937F" rx="68.75" ry="68.75" style="stroke:#181818;stroke-width:6.25;"/><path d="M2860.2539,3200.6165 L2860.2539,3130.5969 L2910.4492,3130.5969 L2910.4492,3142.4133 L2875.5859,3142.4133 L2875.5859,3159.3079 L2907.3242,3159.3079 L2907.3242,3171.1243 L2875.5859,3171.1243 L2875.5859,3188.8 L2912.5977,3188.8 L2912.5977,3200.6165 L2860.2539,3200.6165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="437.6709" x="2975" y="3198.0072">TaskStatus</text><line style="stroke:#181818;stroke-width:3.125;" x1="2800" x2="3425.1709" y1="3266.2415" y2="3266.2415"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="170.3003" x="2831.25" y="3373.3154">todo</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="457.196" x="2831.25" y="3473.9319">in_progress</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="301.593" x="2831.25" y="3574.5483">blocked</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="194.6533" x="2831.25" y="3675.1648">done</text></g><!--class TaskSource--><g class="entity" data-entity="TaskSource" data-source-line="23" data-uid="ent0005" id="entity_TaskSource"><rect fill="#F1F1F1" height="753.0823" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:3.125;" width="666.8518" x="3653.125" y="3016.2415"/><ellipse cx="3746.875" cy="3116.2415" fill="#EB937F" rx="68.75" ry="68.75" style="stroke:#181818;stroke-width:6.25;"/><path d="M3719.6289,3150.6165 L3719.6289,3080.5969 L3769.8242,3080.5969 L3769.8242,3092.4133 L3734.9609,3092.4133 L3734.9609,3109.3079 L3766.6992,3109.3079 L3766.6992,3121.1243 L3734.9609,3121.1243 L3734.9609,3138.8 L3771.9727,3138.8 L3771.9727,3150.6165 L3719.6289,3150.6165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="466.8518" x="3834.375" y="3148.0072">TaskSource</text><line style="stroke:#181818;stroke-width:3.125;" x1="3659.375" x2="4313.7268" y1="3216.2415" y2="3216.2415"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="170.2148" x="3690.625" y="3323.3154">user</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="68.103" x="3690.625" y="3423.9319">ai</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="277.1118" x="3690.625" y="3524.5483">system</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="335.6018" x="3690.625" y="3625.1648">template</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="243.103" x="3690.625" y="3725.7813">import</text></g><!--class Task--><g class="entity" data-entity="Task" data-source-line="31" data-uid="ent0006" id="entity_Task"><rect fill="#F1F1F1" height="1054.9316" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:3.125;" width="1378.3142" x="3109.375" y="1431.8665"/><ellipse cx="3677.1637" cy="1531.8665" fill="#ADD1B2" rx="68.75" ry="68.75" style="stroke:#181818;stroke-width:6.25;"/><path d="M3662.5153,1530.8899 Q3662.5153,1542.6086 3666.1285,1548.9563 Q3669.7418,1555.2063 3676.9684,1555.2063 Q3685.3668,1555.2063 3689.4684,1542.6086 L3703.6285,1545.2454 Q3696.6949,1567.3157 3676.8707,1567.3157 Q3662.2223,1567.3157 3654.6051,1558.0383 Q3646.9879,1548.761 3646.9879,1530.8899 Q3646.9879,1495.1477 3676.3824,1495.1477 Q3686.0504,1495.1477 3692.4957,1500.2258 Q3699.0387,1505.304 3702.1637,1515.3625 L3688.0035,1518.7805 Q3686.5387,1513.3118 3683.5114,1510.2844 Q3680.484,1507.1594 3676.5778,1507.1594 Q3662.5153,1507.1594 3662.5153,1530.8899 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="189.6118" x="3805.2887" y="1563.6322">Task</text><line style="stroke:#181818;stroke-width:3.125;" x1="3115.625" x2="4481.4392" y1="1631.8665" y2="1631.8665"/><ellipse cx="3178.125" cy="1716.5497" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="330.603" x="3234.375" y="1738.9404">id: UUID</text><ellipse cx="3178.125" cy="1817.1661" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="865.686" x="3234.375" y="1839.5569">created_at: timestamp</text><ellipse cx="3178.125" cy="1917.7826" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="890.1245" x="3234.375" y="1940.1733">updated_at: timestamp</text><ellipse cx="3178.125" cy="2018.399" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="1215.8142" x="3234.375" y="2040.7898">parent_id: UUID? &#171;FK Task.id&#187;</text><ellipse cx="3178.125" cy="2119.0155" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="398.7488" x="3234.375" y="2141.4063">title: string</text><ellipse cx="3178.125" cy="2219.632" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="719.7388" x="3234.375" y="2242.0227">status: TaskStatus</text><ellipse cx="3178.125" cy="2320.2484" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="447.3694" x="3234.375" y="2342.6392">actor: Actor</text><ellipse cx="3178.125" cy="2420.8649" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="778.1006" x="3234.375" y="2443.2556">source: TaskSource</text></g><g class="entity" data-entity="GMN12" data-source-line="48" data-uid="ent0013" id="entity_GMN12"><path d="M4543.75,3078.7415 L4543.75,3701.8188 A0,0 0 0 0 4543.75,3701.8188 L5944.0155,3701.8188 A0,0 0 0 0 5944.0155,3701.8188 L5944.0155,3141.2415 L5881.5155,3078.7415 L4956.5625,3078.7415 L4331.4375,2488.4915 L4906.5625,3078.7415 L4543.75,3078.7415 A0,0 0 0 0 4543.75,3078.7415" fill="#FEFFDD" style="stroke:#181818;stroke-width:3.125;"/><path d="M5881.5155,3078.7415 L5881.5155,3141.2415 L5944.0155,3141.2415 L5881.5155,3078.7415" fill="#FEFFDD" style="stroke:#181818;stroke-width:3.125;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="374.8291" x="4581.25" y="3186.203">Invariants:</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="980.2765" x="4581.25" y="3279.6326">- updated_at &gt;= created_at</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="812.8571" x="4581.25" y="3373.0621">- parent_id exists if set</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="761.0046" x="4581.25" y="3466.4917">- parent_id != id if set</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="636.6699" x="4581.25" y="3559.9213">- title is not empty</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="1269.0155" x="4581.25" y="3653.3508">- status, actor, and source are valid</text></g><!--class TaskDialogEventType--><g class="entity" data-entity="TaskDialogEventType" data-source-line="58" data-uid="ent0016" id="entity_TaskDialogEventType"><rect fill="#F1F1F1" height="853.6987" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:3.125;" width="1055.9448" x="140.625" y="2963.1165"/><ellipse cx="234.375" cy="3063.1165" fill="#EB937F" rx="68.75" ry="68.75" style="stroke:#181818;stroke-width:6.25;"/><path d="M207.1289,3097.4915 L207.1289,3027.4719 L257.3242,3027.4719 L257.3242,3039.2883 L222.4609,3039.2883 L222.4609,3056.1829 L254.1992,3056.1829 L254.1992,3067.9993 L222.4609,3067.9993 L222.4609,3085.675 L259.4727,3085.675 L259.4727,3097.4915 L207.1289,3097.4915 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="855.9448" x="321.875" y="3094.8822">TaskDialogEventType</text><line style="stroke:#181818;stroke-width:3.125;" x1="146.875" x2="1190.3198" y1="3163.1165" y2="3163.1165"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="574.0051" x="178.125" y="3270.1904">task_proposed</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="564.2639" x="178.125" y="3370.8069">task_accepted</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="476.6357" x="178.125" y="3471.4233">task_started</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="549.5667" x="178.125" y="3572.0398">task_progress</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="500.9888" x="178.125" y="3672.6563">task_refused</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="403.7903" x="178.125" y="3773.2727">task_done</text></g><!--class TaskDialogEvent--><g class="entity" data-entity="TaskDialogEvent" data-source-line="67" data-uid="ent0017" id="entity_TaskDialogEvent"><rect fill="#F1F1F1" height="753.0823" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:3.125;" width="1242.0227" x="1196.875" y="1584.9915"/><ellipse cx="1461.8964" cy="1684.9915" fill="#ADD1B2" rx="68.75" ry="68.75" style="stroke:#181818;stroke-width:6.25;"/><path d="M1447.2479,1684.0149 Q1447.2479,1695.7336 1450.8612,1702.0813 Q1454.4745,1708.3313 1461.701,1708.3313 Q1470.0995,1708.3313 1474.201,1695.7336 L1488.3612,1698.3704 Q1481.4276,1720.4407 1461.6034,1720.4407 Q1446.955,1720.4407 1439.3378,1711.1633 Q1431.7206,1701.886 1431.7206,1684.0149 Q1431.7206,1648.2727 1461.1151,1648.2727 Q1470.7831,1648.2727 1477.2284,1653.3508 Q1483.7714,1658.429 1486.8964,1668.4875 L1472.7362,1671.9055 Q1471.2714,1666.4368 1468.244,1663.4094 Q1465.2167,1660.2844 1461.3104,1660.2844 Q1447.2479,1660.2844 1447.2479,1684.0149 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="661.4197" x="1587.4567" y="1716.7572">TaskDialogEvent</text><line style="stroke:#181818;stroke-width:3.125;" x1="1203.125" x2="2432.6477" y1="1784.9915" y2="1784.9915"/><ellipse cx="1265.625" cy="1869.6747" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="330.603" x="1321.875" y="1892.0654">id: UUID</text><ellipse cx="1265.625" cy="1970.2911" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="865.686" x="1321.875" y="1992.6819">created_at: timestamp</text><ellipse cx="1265.625" cy="2070.9076" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="1079.5227" x="1321.875" y="2093.2983">task_id: UUID &#171;FK Task.id&#187;</text><ellipse cx="1265.625" cy="2171.524" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="1069.9524" x="1321.875" y="2193.9148">type: TaskDialogEventType</text><ellipse cx="1265.625" cy="2272.1405" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="447.3694" x="1321.875" y="2294.5313">actor: Actor</text></g><g class="entity" data-entity="GMN22" data-source-line="80" data-uid="ent0023" id="entity_GMN22"><path d="M1418.75,3172.4915 L1418.75,3608.7097 A0,0 0 0 0 1418.75,3608.7097 L2444.2261,3608.7097 A0,0 0 0 0 2444.2261,3608.7097 L2444.2261,3234.9915 L2381.7261,3172.4915 L1939.375,3172.4915 L1848,2335.304 L1889.375,3172.4915 L1418.75,3172.4915 A0,0 0 0 0 1418.75,3172.4915" fill="#FEFFDD" style="stroke:#181818;stroke-width:3.125;"/><path d="M2381.7261,3172.4915 L2381.7261,3234.9915 L2444.2261,3234.9915 L2381.7261,3172.4915" fill="#FEFFDD" style="stroke:#181818;stroke-width:3.125;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="374.8291" x="1456.25" y="3279.953">Invariants:</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="496.8628" x="1456.25" y="3373.3826">- append-only</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="537.3291" x="1456.25" y="3466.8121">- task_id exists</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="894.2261" x="1456.25" y="3560.2417">- type and actor are valid</text></g><!--class UserState--><g class="entity" data-entity="UserState" data-source-line="88" data-uid="ent0026" id="entity_UserState"><rect fill="#F1F1F1" height="753.0823" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:3.125;" width="589.0503" x="6293.75" y="3016.2415"/><ellipse cx="6387.5" cy="3116.2415" fill="#EB937F" rx="68.75" ry="68.75" style="stroke:#181818;stroke-width:6.25;"/><path d="M6360.2539,3150.6165 L6360.2539,3080.5969 L6410.4492,3080.5969 L6410.4492,3092.4133 L6375.5859,3092.4133 L6375.5859,3109.3079 L6407.3242,3109.3079 L6407.3242,3121.1243 L6375.5859,3121.1243 L6375.5859,3138.8 L6412.5977,3138.8 L6412.5977,3150.6165 L6360.2539,3150.6165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="389.0503" x="6475" y="3148.0072">UserState</text><line style="stroke:#181818;stroke-width:3.125;" x1="6300" x2="6876.5503" y1="3216.2415" y2="3216.2415"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="184.7412" x="6331.25" y="3323.3154">work</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="403.833" x="6331.25" y="3423.9319">household</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="145.8618" x="6331.25" y="3524.5483">rest</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="209.1797" x="6331.25" y="3625.1648">sleep</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="442.7124" x="6331.25" y="3725.7813">unavailable</text></g><!--class UserStateEvent--><g class="entity" data-entity="UserStateEvent" data-source-line="96" data-uid="ent0027" id="entity_UserStateEvent"><rect fill="#F1F1F1" height="652.4658" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:3.125;" width="1028.186" x="6296.875" y="1634.9915"/><ellipse cx="6487.5491" cy="1734.9915" fill="#ADD1B2" rx="68.75" ry="68.75" style="stroke:#181818;stroke-width:6.25;"/><path d="M6472.9007,1734.0149 Q6472.9007,1745.7336 6476.514,1752.0813 Q6480.1273,1758.3313 6487.3538,1758.3313 Q6495.7523,1758.3313 6499.8538,1745.7336 L6514.014,1748.3704 Q6507.0804,1770.4407 6487.2562,1770.4407 Q6472.6077,1770.4407 6464.9905,1761.1633 Q6457.3734,1751.886 6457.3734,1734.0149 Q6457.3734,1698.2727 6486.7679,1698.2727 Q6496.4359,1698.2727 6502.8812,1703.3508 Q6509.4241,1708.429 6512.5491,1718.4875 L6498.389,1721.9055 Q6496.9241,1716.4368 6493.8968,1713.4094 Q6490.8694,1710.2844 6486.9632,1710.2844 Q6472.9007,1710.2844 6472.9007,1734.0149 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="612.7991" x="6596.5878" y="1766.7572">UserStateEvent</text><line style="stroke:#181818;stroke-width:3.125;" x1="6303.125" x2="7318.811" y1="1834.9915" y2="1834.9915"/><ellipse cx="6365.625" cy="1919.6747" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="330.603" x="6421.875" y="1942.0654">id: UUID</text><ellipse cx="6365.625" cy="2020.2911" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="865.686" x="6421.875" y="2042.6819">created_at: timestamp</text><ellipse cx="6365.625" cy="2120.9076" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="627.3682" x="6421.875" y="2143.2983">state: UserState</text><ellipse cx="6365.625" cy="2221.524" fill="none" rx="18.75" ry="18.75" style="stroke:#038048;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="447.3694" x="6421.875" y="2243.9148">actor: Actor</text></g><g class="entity" data-entity="GMN31" data-source-line="107" data-uid="ent0032" id="entity_GMN31"><path d="M7100,3219.3665 L7100,3562.1552 A0,0 0 0 0 7100,3562.1552 L8148.0499,3562.1552 A0,0 0 0 0 8148.0499,3562.1552 L8148.0499,3281.8665 L8085.5499,3219.3665 L7554.5625,3219.3665 L6995.875,2286.429 L7504.5625,3219.3665 L7100,3219.3665 A0,0 0 0 0 7100,3219.3665" fill="#FEFFDD" style="stroke:#181818;stroke-width:3.125;"/><path d="M8085.5499,3219.3665 L8085.5499,3281.8665 L8148.0499,3281.8665 L8085.5499,3219.3665" fill="#FEFFDD" style="stroke:#181818;stroke-width:3.125;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="374.8291" x="7137.5" y="3326.828">Invariants:</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="496.8628" x="7137.5" y="3420.2576">- append-only</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="916.7999" x="7137.5" y="3513.6871">- state and actor are valid</text></g><!--class Actor--><g class="entity" data-entity="Actor" data-source-line="7" data-uid="ent0002" id="entity_Actor"><rect fill="#F1F1F1" height="551.8494" rx="15.625" ry="15.625" style="stroke:#181818;stroke-width:3.125;" width="404.2236" x="3596.875" y="275.6165"/><ellipse cx="3690.625" cy="375.6165" fill="#EB937F" rx="68.75" ry="68.75" style="stroke:#181818;stroke-width:6.25;"/><path d="M3663.3789,409.9915 L3663.3789,339.9719 L3713.5742,339.9719 L3713.5742,351.7883 L3678.7109,351.7883 L3678.7109,368.6829 L3710.4492,368.6829 L3710.4492,380.4993 L3678.7109,380.4993 L3678.7109,398.175 L3715.7227,398.175 L3715.7227,409.9915 L3663.3789,409.9915 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="204.2236" x="3778.125" y="407.3822">Actor</text><line style="stroke:#181818;stroke-width:3.125;" x1="3603.125" x2="3994.8486" y1="475.6165" y2="475.6165"/><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="121.637" x="3634.375" y="582.6904">bot</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="170.2148" x="3634.375" y="683.3069">user</text><text fill="#000000" font-family="sans-serif" font-size="87.5" lengthAdjust="spacing" textLength="277.1118" x="3634.375" y="783.9233">system</text></g><!--link Task to Task--><g class="link" data-entity-1="Task" data-entity-2="Task" data-source-line="42" data-uid="lnk7" id="link_Task_Task"><path codeLine="42" d="M4491.9375,1824.6165 C4619.625,1841.4915 4709.375,1886.6165 4709.375,1959.9915 C4709.375,2033.3665 4656.8017,2073.5782 4529.1142,2090.4532" fill="none" id="Task-to-Task" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="4491.9375,2095.3665,4550.9781,2112.7811,4522.9181,2091.2721,4544.4271,2063.2121,4491.9375,2095.3665" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="338.8062" x="4746.875" y="1992.453">parent_id</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="135.5225" x="4538.3211" y="1802.6334">0..1</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="121.9543" x="4537.9077" y="2089.8822">0..*</text></g><!--link Task to TaskStatus--><g class="link" data-entity-1="Task" data-entity-2="TaskStatus" data-source-line="43" data-uid="lnk8" id="link_Task_TaskStatus"><path codeLine="43" d="M3546.9375,2488.4915 C3453.125,2682.054 3365.9777,2861.9322 3283.5402,3032.0572" fill="none" id="Task-to-TaskStatus" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="3267.1875,3065.804,3314.2143,3026.0856,3280.8147,3037.6817,3269.2187,3004.2821,3267.1875,3065.804" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="216.7725" x="3462.5" y="2758.078">status</text></g><!--reverse link Actor to Task--><g class="link" data-entity-1="Actor" data-entity-2="Task" data-source-line="44" data-uid="lnk10" id="link_Actor_Task"><path codeLine="44" d="M3800,863.679 C3800,1034.929 3800,1224.8665 3800,1430.6165" fill="none" id="Actor-backto-Task" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="3800,826.179,3775,882.429,3800,857.429,3825,882.429,3800,826.179" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="180.6305" x="3806.25" y="1095.578">actor</text></g><!--link Task to TaskSource--><g class="link" data-entity-1="Task" data-entity-2="TaskSource" data-source-line="45" data-uid="lnk11" id="link_Task_TaskSource"><path codeLine="45" d="M3869,2488.4915 C3892.125,2663.1165 3912.3943,2816.8154 3933.6443,2977.4404" fill="none" id="Task-to-TaskSource" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="3938.5625,3014.6165,3955.9692,2955.5735,3934.464,2983.6364,3906.4011,2962.1312,3938.5625,3014.6165" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="243.869" x="3906.25" y="2758.078">source</text></g><!--link TaskDialogEvent to Task--><g class="link" data-entity-1="TaskDialogEvent" data-entity-2="Task" data-source-line="75" data-uid="lnk18" id="link_TaskDialogEvent_Task"><path codeLine="75" d="M2442.9375,1959.9915 C2654.4375,1959.9915 2854.4375,1959.9915 3070.9375,1959.9915" fill="none" id="TaskDialogEvent-to-Task" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="3108.4375,1959.9915,3052.1875,1934.9915,3077.1875,1959.9915,3052.1875,1984.9915,3108.4375,1959.9915" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="257.4371" x="2646.875" y="1923.703">task_id</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="121.9543" x="2489.03" y="1945.8592">0..*</text><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="45.1874" x="3014.6777" y="1945.8816">1</text></g><!--link TaskDialogEvent to TaskDialogEventType--><g class="link" data-entity-1="TaskDialogEvent" data-entity-2="TaskDialogEventType" data-source-line="76" data-uid="lnk19" id="link_TaskDialogEvent_TaskDialogEventType"><path codeLine="76" d="M1519.625,2335.304 C1363.875,2527.429 1196.3649,2734.0484 1034.7399,2933.4234" fill="none" id="TaskDialogEvent-to-TaskDialogEventType" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="1011.125,2962.554,1065.9677,2934.6014,1030.8041,2938.2785,1027.127,2903.1149,1011.125,2962.554" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="153.5736" x="1250" y="2758.078">type</text></g><!--reverse link Actor to TaskDialogEvent--><g class="link" data-entity-1="Actor" data-entity-2="TaskDialogEvent" data-source-line="77" data-uid="lnk21" id="link_Actor_TaskDialogEvent"><path codeLine="77" d="M3561.9789,667.0385 C3333.4164,776.2885 2990.0625,952.429 2693.75,1163.1165 C2518.5625,1287.679 2339.875,1443.054 2190,1583.054" fill="none" id="Actor-backto-TaskDialogEvent" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="3595.8125,650.8665,3534.2807,652.5688,3567.6178,664.3432,3555.8434,697.6803,3595.8125,650.8665" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="180.6305" x="2900" y="1095.578">actor</text></g><!--link UserStateEvent to UserState--><g class="link" data-entity-1="UserStateEvent" data-entity-2="UserState" data-source-line="103" data-uid="lnk28" id="link_UserStateEvent_UserState"><path codeLine="103" d="M6761.75,2286.429 C6727.375,2502.9915 6687.8118,2752.6419 6651.9368,2978.8294" fill="none" id="UserStateEvent-to-UserState" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="6646.0625,3015.8665,6679.5654,2964.2271,6650.9578,2985.0023,6630.1827,2956.3947,6646.0625,3015.8665" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="176.1475" x="6706.25" y="2758.078">state</text></g><!--reverse link Actor to UserStateEvent--><g class="link" data-entity-1="Actor" data-entity-2="UserStateEvent" data-source-line="104" data-uid="lnk30" id="link_Actor_UserStateEvent"><path codeLine="104" d="M4041.6507,579.7117 C4453.5257,624.9617 5364.625,763.679 6043.75,1163.1165 C6247.5625,1282.9915 6433.625,1471.179 6571.625,1633.929" fill="none" id="Actor-backto-UserStateEvent" style="stroke:#181818;stroke-width:6.25;"/><polygon fill="#181818" points="4004.375,575.6165,4057.5584,606.6098,4035.4381,579.0292,4063.0187,556.9088,4004.375,575.6165" style="stroke:#181818;stroke-width:6.25;"/><text fill="#000000" font-family="sans-serif" font-size="81.25" lengthAdjust="spacing" textLength="180.6305" x="5937.5" y="1095.578">actor</text></g><!--SRC=[bPHDZjCm583tESMZ6oIWeyw6HJHJX9X16h5akXvvajVMQc9RjbEe40jWnJ6u1HiuGtiZdf-TDYaPTMQJnE__vtFSIYeZhAWhNQomXD98U3sPP9cNlaBO_jhzsFtS_jd-tNtRVT_-pfQoHC3Q-0tKw9UwT5ds7DxfkjOA_COWdL4rDRmjlBRm9GEurvwUZKDBBxTn7kliQ_2wLfH41WyZYfLO88nkXLi11lbc11SNxwamd4uv34SD-ezU-CQn3C3hKlE7L7V6weL5v_Xy7nlYxr8hf0zAsWsZ6rjW2fEg0n2INwbCpa3TLi9Zp58RRNqRgwY4SnmiXNafonncivkhU2eiacDv9tmENjRelAXDL3McV4X5ww09tBMXteGvVE0iPxASJgCHhoS7vwrKYoXoF9UyCwCe5s4JULn8ikJMyyuOsewubz7axEny1EFnb3zVZA8uXtrbhMKmwQmar9FoHdLZo22Ia8D81VGzunR8CzP1UgKz1cYyha7FsOhBlb5hOQLGtkLy7iDXY32zXCEqatfVBk1dwRm3EGU7_skVNG8zUyf8ltIXc8XxKiG6NyLcwANAL3bGE5YBYeU390vj1CvxR5z9KUd5zPeodyAyOtfBzwhbdJG1TADTWfibeYZG-Aw42hKzGUzsiCJYlEb5wTwJ0zlTcf-AEOTjhOT1fjxoeOO7uTr3sYqgGJgsSh7q0ThpFR4f_u1J2-3nc7F-Ymqv3C0yJ6l7wm5mXJ64o5YhgkKg5Pf8ROMXe80OPpjDs8p-Ok4guad0zfPfev-qZPTigGc9fQuY5SHBRC5LY76bZH9h8IjnNnsXSfJygQI4YqKWxACylFwZH66HXtRYBmW7p1wrlhxJexV7EKzlwXy0]--></g></svg>